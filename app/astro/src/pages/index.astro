---
import BaseLayout from '../layouts/BaseLayout.astro';
import DigitalClock from '../components/DigitalClock.jsx';
import AnalogClock from '../components/AnalogClock.jsx';
import Counter from '../components/Counter.jsx';
import DateBanner from '../components/DateBanner.jsx';
---
<BaseLayout title="Astro Example Â· Home" description="React clocks and counter with proportional layout.">
    <!-- Keep your intro sections exactly as before if you like; keeping only the React card here -->
    <section class="card card--chip react-wrap">
        <h2 class="text-light react-title">React Examples</h2>

        <!-- Digital (full width) -->
        <div class="digital-row">
            <DigitalClock client:visible />
        </div>

        <!-- PROPORTIONAL two-column area -->
        <div class="react-grid">
            <!-- LEFT column -->
            <div class="col left">
                <h3 class="text-light col-head">Analog (React)</h3>
                <div class="col-body">
                    <AnalogClock client:visible />
                </div>
            </div>

            <!-- RIGHT column (split 50/50: top = date+Chip, bottom = counter) -->
            <div class="col right">
                <div class="right-grid">
                    <!-- top half -->
                    <div class="right-top">
                        <DateBanner client:load />
                        <div class="chip-box">
                            <div class="chip-name" aria-label="Chip">Chip</div>
                        </div>
                    </div>
                    <!-- horizontal divider only across right column -->
                    <div class="right-divider" role="presentation"></div>
                    <!-- bottom half -->
                    <div class="right-bottom">
                        <Counter client:idle initial={0} />
                    </div>
                </div>
            </div>

            <!-- full-height vertical divider between columns -->
            <div class="v-divider" role="presentation"></div>
        </div>
    </section>
</BaseLayout>

<style>
    /* --------- layout variables --------- */
    .react-wrap{
        --rhythm: 12px;
        --colWidth: clamp(18rem, 46vw, 520px);
        --divider: rgba(255,255,255,.35);
    }

    .react-title{ text-align:center; margin:0 0 calc(var(--rhythm) * 2) }

    .digital-row{
        text-align:center;
        margin: calc(var(--rhythm) * 1.5) 0 calc(var(--rhythm) * 2);
    }

    /* Two equal columns with equal height */
    .react-grid{
        position:relative;
        display:grid;
        grid-template-columns: 1fr;
        gap: calc(var(--rhythm) * 1.5);
        align-items: stretch;           /* equal heights */
    }
    @media (min-width:900px){
        .react-grid{ grid-template-columns: 1fr 1fr; }
    }

    .col{
        display:flex; flex-direction:column;
        padding-top: var(--rhythm);     /* shared top baseline on both sides */
    }

    .col-head{ text-align:center; margin:0 0 var(--rhythm) }
    .col-body{ max-width: var(--colWidth); margin-inline:auto }

    /* RIGHT column is a 2-row grid with a thin divider row */
    .right{ display:block }
    .right-grid{
        display:grid;
        grid-template-rows: 1fr 2px 1fr; /* top | divider | bottom */
        height:100%;
    }

    .right-top,
    .right-bottom{
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        padding: 0 calc(var(--rhythm) * 1);
        gap: calc(var(--rhythm) * 1);
    }

    /* horizontal divider across right column only */
    .right-divider{
        background: var(--divider);
        border-radius:2px;
    }

    /* full-height vertical divider between columns */
    @media (min-width:900px){
        .v-divider{
            position:absolute; top:0; bottom:0; left:50%;
            width:2px; transform:translateX(-1px);
            background: var(--divider); border-radius:2px;
        }
    }

    /* Chip styling (big, centered, no clipping) */
    @import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');
    .chip-box{ display:flex; align-items:center; justify-content:center; min-height:0 }
    .chip-name{
        position:relative;
        font-family:'Pacifico', cursive;
        font-size: clamp(2.6rem, 6vw, 3.6rem);
        line-height:1.3;
        padding-bottom: 6px;
        background: linear-gradient(90deg, #ffffff, #dbeafe);
        -webkit-background-clip:text; background-clip:text; color:transparent;
        text-shadow: 0 2px 10px rgba(0,0,0,.25), 0 0 1px rgba(255,255,255,.35);
    }
    .chip-name::after{
        content:""; position:absolute; left:50%; transform:translateX(-50%);
        bottom:-10px; width:60%; height:4px; border-radius:999px;
        background:linear-gradient(90deg, transparent, rgba(255,255,255,.7), transparent);
        box-shadow:0 4px 14px rgba(0,0,0,.2);
    }
</style>
