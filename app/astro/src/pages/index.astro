---
import BaseLayout from '../layouts/BaseLayout.astro';
import DigitalClock from '../components/DigitalClock.jsx';
import AnalogClock from '../components/AnalogClock.jsx';
import Counter from '../components/Counter.jsx';
import DateBanner from '../components/DateBanner.jsx';
---
<BaseLayout title="Astro Example · Home" description="Proportional square layout: equal left/right; right split top/bottom.">
    <section class="card">
        <h2 class="section-title">React Examples</h2>

        <!-- Digital clock stays full-width, centered -->
        <div class="digital-row">
            <DigitalClock client:visible />
        </div>

        <!-- PROPORTIONAL SQUARE -->
        <div class="react-square">
            <div class="square-inner">
                <!-- LEFT (1/2 width, full height) -->
                <div class="cell left">
                    <h3 class="cell-title">Analog (React)</h3>
                    <div class="left-content">
                        <AnalogClock client:visible />
                    </div>
                </div>

                <!-- RIGHT (1/2 width) => split into 2 equal heights -->
                <div class="cell right">
                    <div class="right-grid">
                        <!-- RIGHT / TOP -->
                        <div class="right-top">
                            <DateBanner client:load />
                            <div class="chip">Chip</div>
                        </div>

                        <!-- RIGHT / BOTTOM -->
                        <div class="right-bottom">
                            <Counter client:idle initial={0} />
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dividers (drawn by pseudo elements) -->
            <div class="divider v"></div>
            <div class="divider h"></div>
        </div>
    </section>
</BaseLayout>

<style>
    :root{
        --divider: rgba(255,255,255,.35);
    }

    .section-title{
        text-align:center;
        margin:0 0 1rem;
        color:#fff;
    }
    .digital-row{ text-align:center; margin: .75rem 0 1.25rem }

    /* ---------- PROPORTIONAL SQUARE ---------- */
    .react-square{
        position: relative;
        width: 100%;
        aspect-ratio: 1 / 1;              /* <-- perfect square */
        border-radius: 12px;
    }
    .square-inner{
        position:absolute; inset:0;
        display:grid;
        grid-template-columns: 1fr 1fr;    /* left | right */
        gap: 0;
    }

    /* Common cell chrome */
    .cell{ display:flex; flex-direction:column; padding:12px }
    .cell-title{ color:#fff; text-align:center; margin:0 0 10px }

    /* LEFT content centered within left half */
    .left-content{
        display:flex; align-items:center; justify-content:center;
        height: 100%;
        max-width: 520px; margin-inline:auto;
    }

    /* RIGHT column split into two equal rows */
    .right-grid{
        display:grid;
        grid-template-rows: 1fr 1fr;       /* top | bottom */
        height:100%;
    }
    .right-top,
    .right-bottom{
        display:flex; flex-direction:column;
        align-items:center; justify-content:center;
        padding: 10px 12px;
        gap: 10px;
    }

    /* “Chip” style (big but safe; will center in its box) */
    @import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');
    .chip{
        font-family:'Pacifico', cursive;
        font-size: clamp(2.4rem, 5.6vw, 3.4rem);
        line-height:1.25;
        padding-bottom:6px;
        background: linear-gradient(90deg, #fff, #dbeafe);
        -webkit-background-clip:text; background-clip:text; color:transparent;
        text-shadow: 0 2px 10px rgba(0,0,0,.25), 0 0 1px rgba(255,255,255,.35);
        position:relative;
    }
    .chip::after{
        content:"";
        position:absolute; left:50%; transform:translateX(-50%);
        bottom:-10px; width:60%; height:4px; border-radius:999px;
        background:linear-gradient(90deg, transparent, rgba(255,255,255,.7), transparent);
    }

    /* Dividers exactly through the square center (no offsets) */
    .divider.v, .divider.h{
        position:absolute; background:var(--divider);
    }
    .divider.v{ top:0; bottom:0; width:2px; left:50%; transform:translateX(-1px) }
    .divider.h{ left:50%; right:0; height:2px; top:50%; transform:translateY(-1px) } /* only across right half */
</style>
